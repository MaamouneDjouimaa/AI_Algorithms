import numpy as np
import random

def generate_random_tour(n):
    tour = np.arange(n)
    random.shuffle(tour)
    return tour

def get_distance(coord, tour):
    distance = 0
    for i in range(len(tour) - 1):
        x1, y1 = coord[tour[i]]
        x2, y2 = coord[tour[i + 1]]
        distance += np.sqrt((x1 - x2) ** 2 + (y1 - y2) ** 2)
    return distance

def hill_climbing(coord, tour, num_iterations=100):
    best_tour = tour.copy()
    best_distance = get_distance(coord, tour)
    for i in range(num_iterations):
        random_tour = best_tour.copy()
        random_tour[np.random.randint(0, len(tour))], random_tour[np.random.randint(0, len(tour))] = random_tour[np.random.randint(0, len(tour))], random_tour[np.random.randint(0, len(tour))]
        random_distance = get_distance(coord, random_tour)
        if random_distance < best_distance:
            best_distance = random_distance
            best_tour = random_tour.copy()
    return best_distance, best_tour

if __name__ == "__main__":
    coord = np.array([[0,0], [1,0], [1,1], [0,1]])
    tour = generate_random_tour(len(coord))
    distance, tour = hill_climbing(coord, tour)
    print("Best tour: ", tour)
    print("Best distance: ", distance)
